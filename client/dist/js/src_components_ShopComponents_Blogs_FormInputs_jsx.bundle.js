/*! For license information please see src_components_ShopComponents_Blogs_FormInputs_jsx.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkecom=self.webpackChunkecom||[]).push([["src_components_ShopComponents_Blogs_FormInputs_jsx"],{"./src/components/ShopComponents/Blogs/FormInputs.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FormInputs: () => (/* binding */ FormInputs)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-bootstrap/Form */ "./node_modules/react-bootstrap/esm/Form.js");\n/* harmony import */ var jodit_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jodit-react */ "./node_modules/jodit-react/build/jodit-react.js");\n/* harmony import */ var jodit_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jodit_react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_slugify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-slugify */ "./node_modules/react-slugify/dist/slugify.js");\n/* harmony import */ var react_bootstrap_esm_Button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-bootstrap/esm/Button */ "./node_modules/react-bootstrap/esm/Button.js");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! axios */ "./node_modules/axios/lib/axios.js");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ "./node_modules/@fortawesome/react-fontawesome/index.es.js");\n/* harmony import */ var _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @fortawesome/free-solid-svg-icons */ "./node_modules/@fortawesome/free-solid-svg-icons/index.mjs");\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-hot-toast */ "./node_modules/react-hot-toast/dist/index.mjs");\n/* harmony import */ var _server__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../server */ "./src/server.js");\n\n\n\n\n\n\n\n\n\n\nconst FormInputs = _ref => {\n  var _blogData$large_thumb;\n  let {\n    blogData,\n    setBlogData,\n    _id\n  } = _ref;\n  const [category, setCategory] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\'\');\n  const [categoryDropDown, setCategoryDropDown] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const fetchCategories = async () => {\n      try {\n        const {\n          data\n        } = await axios__WEBPACK_IMPORTED_MODULE_6__["default"].get("".concat(_server__WEBPACK_IMPORTED_MODULE_5__.server, "/blogs/category"));\n        setCategoryDropDown(data === null || data === void 0 ? void 0 : data.categories);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchCategories();\n  }, []);\n  const editor = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const config = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({\n    readonly: false,\n    enableDragAndDropFileToEditor: true,\n    uploader: {\n      insertImageAsBase64URI: true\n    },\n    controls: {\n      font: {\n        list: {\n          \'Roboto Medium,Arial,sans-serif\': \'Roboto\'\n        }\n      }\n    }\n  }), []);\n  const handleMultipleImages = e => {\n    const files = e.target.files;\n    const updatedState = [];\n    const maxSizeInBytes = 5000 * 1024; // 200 KB\n\n    const processImage = (file, index) => {\n      if (file.size <= maxSizeInBytes) {\n        const reader = new FileReader();\n        reader.onload = () => {\n          const base64Image = reader.result;\n          updatedState[index] = base64Image;\n          if (updatedState.filter(Boolean).length === files.length) {\n            let Images = [...(blogData === null || blogData === void 0 ? void 0 : blogData.large_thumb)];\n            let concat = Images.concat(updatedState);\n            setBlogData({\n              ...blogData,\n              large_thumb: concat\n            });\n          }\n        };\n        reader.readAsDataURL(file);\n      } else {\n        react_hot_toast__WEBPACK_IMPORTED_MODULE_4__["default"].error("File \\"".concat(file.name, "\\" exceeds the size limit of 200 KB."));\n      }\n    };\n    for (let i = 0; i < files.length; i++) {\n      processImage(files[i], i);\n    }\n  };\n  const handleBlogDataChange = e => {\n    const {\n      value,\n      name\n    } = e.target;\n    let updatedState = JSON.parse(JSON.stringify(blogData));\n    updatedState[name] = value;\n    setBlogData(updatedState);\n  };\n  const handleSlugify = e => {\n    e.preventDefault();\n    if (!(blogData !== null && blogData !== void 0 && blogData.title)) {\n      alert("Title is required!");\n      return;\n    }\n    const slug = (0,react_slugify__WEBPACK_IMPORTED_MODULE_2__["default"])(blogData === null || blogData === void 0 ? void 0 : blogData.title);\n    setBlogData({\n      ...blogData,\n      slug\n    });\n  };\n  const handleAddCategory = async e => {\n    e.preventDefault();\n    try {\n      await axios__WEBPACK_IMPORTED_MODULE_6__["default"].post("".concat(_server__WEBPACK_IMPORTED_MODULE_5__.server, "/blogs/category"), {\n        category\n      }, {\n        withCredentials: true\n      });\n      let updatedState = [...categoryDropDown];\n      updatedState.push({\n        category\n      });\n      setCategoryDropDown(updatedState);\n      react_hot_toast__WEBPACK_IMPORTED_MODULE_4__["default"].success("Added Category successfully");\n    } catch (e) {\n      var _e$response;\n      react_hot_toast__WEBPACK_IMPORTED_MODULE_4__["default"].error(e === null || e === void 0 || (_e$response = e.response) === null || _e$response === void 0 || (_e$response = _e$response.data) === null || _e$response === void 0 ? void 0 : _e$response.message);\n    }\n  };\n  const handleImageDeleteCloude = (e, id) => {\n    e.preventDefault();\n    if (window.confirm("uploaded Image will be deleted Permanently!")) {\n      handleCloudinaryImageDelete(id, _id);\n    }\n  };\n  const handleCloudinaryImageDelete = async (public_id, _id) => {\n    try {\n      var _images;\n      await axios__WEBPACK_IMPORTED_MODULE_6__["default"].delete("".concat(_server__WEBPACK_IMPORTED_MODULE_5__.server, "/blogs/delete-Img/").concat(public_id, "/").concat(_id), {\n        withCredentials: true\n      });\n      let updatedState = {\n        ...blogData\n      };\n      let images = [...updatedState.large_thumb];\n      images = (_images = images) === null || _images === void 0 ? void 0 : _images.filter(image => (image === null || image === void 0 ? void 0 : image.public_id) !== public_id);\n      updatedState.large_thumb = images;\n      setBlogData(updatedState);\n      react_hot_toast__WEBPACK_IMPORTED_MODULE_4__["default"].success(\'Image delete successfully!\');\n    } catch (error) {\n      var _error$response;\n      react_hot_toast__WEBPACK_IMPORTED_MODULE_4__["default"].error(error === null || error === void 0 || (_error$response = error.response) === null || _error$response === void 0 || (_error$response = _error$response.data) === null || _error$response === void 0 ? void 0 : _error$response.message);\n    }\n  };\n  const handleImageDeleteArray = (e, index) => {\n    e.preventDefault();\n    let updatedState = {\n      ...blogData\n    };\n    let images = [...updatedState.large_thumb];\n    images.splice(index, 1);\n    updatedState.large_thumb = images;\n    setBlogData(updatedState);\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "form-group"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_hot_toast__WEBPACK_IMPORTED_MODULE_4__.Toaster, {\n    position: "top-right",\n    reverseOrder: false,\n    toastOptions: {\n      duration: 3000,\n      style: {\n        position: \'relative\',\n        top: \'80px\'\n      }\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Group, {\n    className: "mb-3",\n    controlId: "formBasicPassword"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Label, null, "Blog Title"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Control, {\n    name: "title",\n    value: blogData.title,\n    onChange: handleBlogDataChange,\n    type: "text",\n    placeholder: "Blog Title",\n    required: true\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Group, {\n    className: "mb-3",\n    controlId: "formBasicPassword"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Label, null, "URL slug"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Control, {\n    name: "slug",\n    value: blogData.slug,\n    onChange: handleBlogDataChange,\n    type: "text",\n    placeholder: "URL slug",\n    required: true\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_esm_Button__WEBPACK_IMPORTED_MODULE_8__["default"], {\n    variant: "outline-primary",\n    className: "update_button mt-3",\n    type: "submit",\n    name: "sub",\n    onClick: handleSlugify\n  }, "Generate")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Group, {\n    className: "mb-3",\n    controlId: "formBasicPassword"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Label, null, "Meta Title"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Control, {\n    name: "metaTitle",\n    value: blogData.metaTitle,\n    onChange: handleBlogDataChange,\n    type: "text",\n    placeholder: "Meta Title",\n    required: true\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Group, {\n    className: "mb-3",\n    controlId: "exampleForm.ControlTextarea1"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Label, null, "Meta Description"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Control, {\n    placeholder: "Meta Description",\n    as: "textarea",\n    rows: 5,\n    name: "metaDescription",\n    value: blogData.metaDescription,\n    onChange: handleBlogDataChange,\n    required: true\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Group, {\n    className: "mb-3",\n    controlId: "exampleForm.ControlTextarea1"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Label, null, "Post Description"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Control, {\n    placeholder: "Post Description",\n    as: "textarea",\n    rows: 5,\n    name: "blogDescription",\n    value: blogData.blogDescription,\n    onChange: handleBlogDataChange,\n    required: true\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Group, {\n    className: "mb-3",\n    controlId: "formBasicPassword"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Label, null, "Read Time"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Control, {\n    name: "read_time",\n    value: blogData.read_time,\n    onChange: handleBlogDataChange,\n    type: "text",\n    placeholder: "Read Time",\n    required: true\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Group, {\n    className: "mb-3",\n    controlId: "formBasicPassword"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Label, null, "Category"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "row"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "col-6"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("select", {\n    value: blogData === null || blogData === void 0 ? void 0 : blogData.category,\n    className: "category-select-dropDown",\n    name: "category",\n    onChange: handleBlogDataChange\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("option", {\n    value: "",\n    disabled: true\n  }, "Select a Category"), categoryDropDown === null || categoryDropDown === void 0 ? void 0 : categoryDropDown.map((category, index) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("option", {\n    key: index,\n    value: category === null || category === void 0 ? void 0 : category.category\n  }, category === null || category === void 0 ? void 0 : category.category)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "col-6 d-flex justify-between gap-2"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Control, {\n    name: "category",\n    value: category,\n    onChange: e => setCategory(e.target.value),\n    type: "text",\n    placeholder: "Add new Category",\n    required: true\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n    variant: "outline-primary",\n    className: "update_button btn btn-sm btn-primary",\n    onClick: handleAddCategory\n  }, "ADD")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Group, {\n    className: "mb-3",\n    controlId: "formBasicPassword"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Label, null, "Excerpt"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Control, {\n    name: "excerpt",\n    value: blogData.excerpt,\n    onChange: handleBlogDataChange,\n    type: "text",\n    placeholder: "Excerpt",\n    required: true\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Group, {\n    controlId: "formFile",\n    className: "mb-3"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Label, null, "Upload Image"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Control, {\n    type: "file",\n    size: "lg",\n    name: "image",\n    accept: ".png, .jpg, .jpeg",\n    onChange: handleMultipleImages,\n    multiple: true\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "blog-post-image-formInput-parent flex flex-wrap gap-3 my-3"\n  }, (blogData === null || blogData === void 0 ? void 0 : blogData.large_thumb.length) > 0 && (blogData === null || blogData === void 0 || (_blogData$large_thumb = blogData.large_thumb) === null || _blogData$large_thumb === void 0 ? void 0 : _blogData$large_thumb.map((image, index) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "blog-img-flex relative",\n    key: index\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "blog-post-image-formInput w-[100px] h-[60px] border-1 rounded"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("img", {\n    src: image !== null && image !== void 0 && image.public_id ? image === null || image === void 0 ? void 0 : image.url : image,\n    alt: "blog-post",\n    className: "w-full h-full object-cover"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n    className: "delete-btn absolute top-0 bg-red-200 rounded-br p-1",\n    onClick: e => {\n      image !== null && image !== void 0 && image.public_id ? handleImageDeleteCloude(e, image === null || image === void 0 ? void 0 : image.public_id) : handleImageDeleteArray(e, index);\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__.FontAwesomeIcon, {\n    icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_9__.faTrash,\n    style: {\n      color: "#e10909",\n      fontSize: "15px"\n    }\n  }))))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Group, {\n    className: "mb-3",\n    controlId: "formBasicPassword"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_Form__WEBPACK_IMPORTED_MODULE_7__["default"].Label, null, "Page Content"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((jodit_react__WEBPACK_IMPORTED_MODULE_1___default()), {\n    ref: editor,\n    value: blogData.body,\n    config: config,\n    onBlur: newContent => {\n      setBlogData({\n        ...blogData,\n        body: newContent\n      });\n    }\n  })));\n};\n\n//# sourceURL=webpack://ecom/./src/components/ShopComponents/Blogs/FormInputs.jsx?')}}]);