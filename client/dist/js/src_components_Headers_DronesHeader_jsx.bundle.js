/*! For license information please see src_components_Headers_DronesHeader_jsx.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkecom=self.webpackChunkecom||[]).push([["src_components_Headers_DronesHeader_jsx"],{"./src/components/Headers/DronesHeader.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/dist/index.js");\n/* harmony import */ var _Search_SearchBar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Search/SearchBar */ "./src/components/Search/SearchBar.jsx");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ "./node_modules/@fortawesome/react-fontawesome/index.es.js");\n/* harmony import */ var _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @fortawesome/free-solid-svg-icons */ "./node_modules/@fortawesome/free-solid-svg-icons/index.mjs");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");\n/* harmony import */ var _utils_StyleConfig__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/StyleConfig */ "./src/utils/StyleConfig.js");\n/* harmony import */ var _socket__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./socket */ "./src/components/Headers/socket.js");\n/* harmony import */ var _redux_actions_socket__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../redux/actions/socket */ "./src/redux/actions/socket.js");\n/* harmony import */ var _OptimizeComp_LazyLoadImageComponent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../OptimizeComp/LazyLoadImageComponent */ "./src/components/OptimizeComp/LazyLoadImageComponent.jsx");\n/* harmony import */ var react_helmet_async__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-helmet-async */ "./node_modules/react-helmet-async/lib/index.esm.js");\n\n\n\n\n\n\n\n\n\n\n\nconst DronesHeader = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(() => {\n  var _styles$logo, _styles$logo2;\n  const {\n    wishlist\n  } = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.useSelector)(state => state.wishlist);\n  const {\n    cart\n  } = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.useSelector)(state => state.cart);\n  const {\n    user\n  } = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.useSelector)(state => state.user);\n  const {\n    newMessageDate\n  } = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.useSelector)(state => state.messages);\n  const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.useDispatch)();\n  const [msgLength, setMsgLength] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n  const styles = (0,_utils_StyleConfig__WEBPACK_IMPORTED_MODULE_4__.StyleConfig)();\n  const [arrivalMessage, setArrivalMessage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (newMessageDate) {\n      let found = newMessageDate === null || newMessageDate === void 0 ? void 0 : newMessageDate.find(item => (item === null || item === void 0 ? void 0 : item.userId) === (user === null || user === void 0 ? void 0 : user._id));\n      if (found) {\n        setMsgLength(found === null || found === void 0 ? void 0 : found.messageLength);\n      }\n    }\n  }, [newMessageDate, user === null || user === void 0 ? void 0 : user._id]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    _socket__WEBPACK_IMPORTED_MODULE_5__.socketId.on("getMessage", data => {\n      setArrivalMessage({\n        sender: data.senderId,\n        text: data.text,\n        createdAt: Date.now()\n      });\n    });\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    let data = {\n      userId: user === null || user === void 0 ? void 0 : user._id,\n      messageLength: 1\n    };\n    if (arrivalMessage) {\n      let found = newMessageDate === null || newMessageDate === void 0 ? void 0 : newMessageDate.find(item => (item === null || item === void 0 ? void 0 : item.userId) === (data === null || data === void 0 ? void 0 : data.userId));\n      if (found) {\n        dispatch((0,_redux_actions_socket__WEBPACK_IMPORTED_MODULE_6__.updateReceivedMessage)(data));\n      } else {\n        dispatch((0,_redux_actions_socket__WEBPACK_IMPORTED_MODULE_6__.createNewReceivedMessage)(data));\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [arrivalMessage]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_helmet_async__WEBPACK_IMPORTED_MODULE_8__.Helmet, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("link", {\n    rel: "preload",\n    as: "image",\n    href: styles === null || styles === void 0 || (_styles$logo = styles.logo) === null || _styles$logo === void 0 ? void 0 : _styles$logo.url\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "DronesHeader-parent bg-light "\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("nav", {\n    className: "navbar navbar-expand-lg navbar-light bg-light"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "container-fluid"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_9__.Link, {\n    className: "navbar-brand",\n    to: "/"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "Drones-header-logo"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_OptimizeComp_LazyLoadImageComponent__WEBPACK_IMPORTED_MODULE_7__["default"], {\n    alt: "logo",\n    height: "100%",\n    width: "100%",\n    img: styles === null || styles === void 0 || (_styles$logo2 = styles.logo) === null || _styles$logo2 === void 0 ? void 0 : _styles$logo2.url\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n    className: "navbar-toggler",\n    type: "button",\n    "data-bs-toggle": "collapse",\n    "data-bs-target": "#navbarSupportedContent",\n    "aria-controls": "navbarSupportedContent",\n    "aria-expanded": "false",\n    "aria-label": "Toggle navigation"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {\n    className: "navbar-toggler-icon"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "collapse navbar-collapse",\n    id: "navbarSupportedContent"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "Drones-header-input-parent"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Search_SearchBar__WEBPACK_IMPORTED_MODULE_1__["default"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("form", {\n    className: "d-flex"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "Drones-header-icons"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_9__.Link, {\n    to: "/cart"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "Drones-header-icon drones-header-cart"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__.FontAwesomeIcon, {\n    icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_10__.faCartPlus,\n    style: {\n      color: \'#8b96a5\',\n      fontSize: \'20px\'\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {\n    className: "absolute right-0 top-0 rounded-full bg-[#fa8232] w-4 h-4 top right p-0 m-0 text-white font-mono text-[12px] leading-tight text-center"\n  }, cart && cart.length))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_9__.Link, {\n    to: "/wishlist"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "Drones-header-icon drones-header-cart drones-header-wishlist"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__.FontAwesomeIcon, {\n    icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_10__.faHeart,\n    style: {\n      color: \'#8b96a5\',\n      fontSize: \'20px\'\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {\n    className: "absolute right-0 top-0 rounded-full bg-[#fa8232] w-4 h-4 top right p-0 m-0 text-white font-mono text-[12px] leading-tight text-center"\n  }, wishlist && wishlist.length))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_9__.Link, {\n    to: "/inbox"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "Drones-header-icon drones-header-wishlist drones-header-cart"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__.FontAwesomeIcon, {\n    icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_10__.faMessage,\n    style: {\n      color: \'#8b96a5\',\n      fontSize: \'20px\'\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", {\n    className: "absolute right-0 top-0 rounded-full bg-[#fa8232] w-4 h-4 top right p-0 m-0 text-white font-mono text-[12px] leading-tight text-center"\n  }, msgLength))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_9__.Link, {\n    to: "/profilepage"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "Drones-header-icon"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__.FontAwesomeIcon, {\n    icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_10__.faUser,\n    style: {\n      color: \'#8b96a5\',\n      fontSize: \'20px\'\n    }\n  }))))))))));\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DronesHeader);\n\n//# sourceURL=webpack://ecom/./src/components/Headers/DronesHeader.jsx?')},"./src/components/Search/SearchBar.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _hooks_useSearchHandler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../hooks/useSearchHandler */ "./src/hooks/useSearchHandler.js");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ "./node_modules/@fortawesome/react-fontawesome/index.es.js");\n/* harmony import */ var _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @fortawesome/free-solid-svg-icons */ "./node_modules/@fortawesome/free-solid-svg-icons/index.mjs");\n\n// import { AiOutlineSearch } from \'react-icons/ai\';\n\n\n\nconst SearchBar = () => {\n  const [searchInput, setSearchInput] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\'\');\n  const [suggestions, setSuggestions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [searchHistory, setSearchHistory] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [onFocus, setFocus] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [selectedSuggestionIndex, setSelectedSuggestionIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(-1);\n  const {\n    handleSearch,\n    handleSearchChange\n  } = (0,_hooks_useSearchHandler__WEBPACK_IMPORTED_MODULE_1__["default"])({\n    searchInput,\n    setSearchInput,\n    setSuggestions,\n    setFocus,\n    setSelectedSuggestionIndex,\n    setSearchHistory\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const storedSearchHistory = localStorage.getItem(\'searchHistory\');\n    if (storedSearchHistory) {\n      setSearchHistory(JSON.parse(storedSearchHistory));\n    }\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    localStorage.setItem(\'searchHistory\', JSON.stringify(searchHistory));\n  }, [searchHistory]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("form", {\n    onSubmit: handleSearch\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("input", {\n    type: "text",\n    placeholder: "Search Product...",\n    value: searchInput,\n    onChange: handleSearchChange,\n    onFocus: () => {\n      setFocus(true);\n    }\n    // onBlur={() => {\n    //   setFocus(false);\n    //   setSuggestions([]);\n    // }}\n    // onKeyDown={handleKeyDown}\n    ,\n    className: "h-[40px] w-full px-2 border-[black] border-[1px] rounded-md"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n    type: "submit",\n    className: "DronesHeader-search-icon"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__.FontAwesomeIcon, {\n    icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_3__.faMagnifyingGlass\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: "sug-div"\n  }, (suggestions === null || suggestions === void 0 ? void 0 : suggestions.length) > 0 && suggestions.slice(0, 10).map((val, index) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n    key: index,\n    onClick: () => setSearchInput(val),\n    className: index === selectedSuggestionIndex ? \'selected\' : \'search-sug\'\n  }, val)), onFocus && searchHistory.map((term, index) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n    onClick: () => setSearchInput(term),\n    className: index === selectedSuggestionIndex ? \'selected\' : \'search-sug\',\n    key: index\n  }, term))));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SearchBar);\n\n//# sourceURL=webpack://ecom/./src/components/Search/SearchBar.jsx?')},"./src/hooks/useSearchHandler.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ "./node_modules/axios/lib/axios.js");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/dist/index.js");\n/* harmony import */ var _server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../server */ "./src/server.js");\n\n\n\nconst useSearchHandler = _ref => {\n  let {\n    searchInput,\n    setSearchInput,\n    setSuggestions,\n    setFocus,\n    setSelectedSuggestionIndex,\n    setSearchHistory\n  } = _ref;\n  const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_1__.useNavigate)();\n  const handleSearch = async e => {\n    e.preventDefault();\n    try {\n      if (searchInput) {\n        const searchTerm = searchInput.toLowerCase();\n        setSuggestions([]);\n        await setSearchHistory(prevHistory => {\n          if (!prevHistory.includes(searchTerm)) {\n            const newHistory = [searchTerm, ...prevHistory].slice(0, 5);\n            return newHistory;\n          }\n          return prevHistory;\n        });\n        var encodedSearchTerm = encodeURIComponent(searchTerm);\n        navigate("/products?search=".concat(encodedSearchTerm));\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const handleSearchChange = async e => {\n    setSearchInput(e.target.value);\n    const searchTerm = e.target.value.toLowerCase();\n    if (searchTerm === \'\') {\n      setFocus(true);\n      setSuggestions([]);\n    } else {\n      setFocus(false);\n      const {\n        data\n      } = await axios__WEBPACK_IMPORTED_MODULE_2__["default"].get("".concat(_server__WEBPACK_IMPORTED_MODULE_0__.server, "/product/search-suggestions?search=").concat(searchTerm));\n      setSuggestions(data);\n    }\n    setSelectedSuggestionIndex(-1); // Reset selected suggestion on input change\n  };\n  return {\n    handleSearch,\n    handleSearchChange\n  };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useSearchHandler);\n\n//# sourceURL=webpack://ecom/./src/hooks/useSearchHandler.js?')},"./src/redux/actions/socket.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createNewReceivedMessage: () => (/* binding */ createNewReceivedMessage),\n/* harmony export */   removeViewedMessage: () => (/* binding */ removeViewedMessage),\n/* harmony export */   updateReceivedMessage: () => (/* binding */ updateReceivedMessage)\n/* harmony export */ });\nconst updateReceivedMessage = data => async (dispatch, getState) => {\n  dispatch({\n    type: 'updateNewMessage',\n    payload: data\n  });\n  localStorage.setItem('newMessageDate', JSON.stringify(getState().messages.newMessageDate));\n};\nconst createNewReceivedMessage = data => async (dispatch, getState) => {\n  dispatch({\n    type: 'setNewMessage',\n    payload: data\n  });\n  localStorage.setItem('newMessageDate', JSON.stringify(getState().messages.newMessageDate));\n};\nconst removeViewedMessage = data => async (dispatch, getState) => {\n  dispatch({\n    type: 'removeNewMessage',\n    payload: data\n  });\n  localStorage.setItem('newMessageDate', JSON.stringify(getState().messages.newMessageDate));\n};\n\n//# sourceURL=webpack://ecom/./src/redux/actions/socket.js?")}}]);